<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Miyagi X Pulse (MIX) — Quantum-Hybrid Whitepaper (Expanded)</title>
<style>
  body { font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin: 0; color: #0b1220; background: #f6f8fb; }
  .container { display: flex; max-width: 1200px; margin: 32px auto; padding: 20px; gap: 24px; }
  aside { width: 260px; background: #fff; border-radius: 8px; padding: 18px; box-shadow: 0 6px 18px rgba(11,18,32,0.06); }
  main { flex: 1; background: #fff; border-radius: 8px; padding: 28px; box-shadow: 0 6px 18px rgba(11,18,32,0.06); }
  .toc-link { display: block; color: #0b5cff; margin: 8px 0; text-decoration: none; font-size: 14px; }
  h1 { margin: 0 0 8px; font-size: 26px; }
  h2 { font-size: 20px; margin-top: 22px; }
  h3 { font-size: 16px; margin-top: 16px; }
  p, li, pre { font-size: 14px; color: #111; line-height: 1.6; }
  pre { background: #f3f6fb; padding: 12px; border-radius: 6px; overflow: auto; font-family: Menlo, monospace; }
  .formula { font-family: Menlo, monospace; background: #0b1220; color: #e6f7ff; padding: 10px; border-radius: 6px; display: inline-block; }
  table { width: 100%; border-collapse: collapse; margin-top: 12px; }
  th, td { border: 1px solid #e6eef9; padding: 8px; text-align: left; }
  .wp-table thead th { background: #f0f6ff; }
  .section-note { font-size: 13px; color: #445; }
</style>
</head>
<body>
<header style="max-width:1200px;margin:24px auto;padding:0 20px">
  <h1>Miyagi X Pulse (MIX)</h1>
  <div style="color:#334;">Quantum-Hybrid Pulse Ledger — Technical Whitepaper v1.0 (Expanded)</div>
</header>

<div class="container">
  <aside>
    <h4>Contents</h4>
    <a href="#section-1" class="toc-link">1. Executive Summary</a>
    <a href="#section-2" class="toc-link">2. System Overview</a>
    <a href="#section-3" class="toc-link">3. Hybrid Pulse Architecture</a>
    <a href="#section-4" class="toc-link">4. Consensus Mechanism (PoPP)</a>
    <a href="#section-5" class="toc-link">5. Security Model</a>
    <a href="#section-6" class="toc-link">6. Tokenomics (Model)</a>
    <a href="#section-7" class="toc-link">7. Economic Incentives</a>
    <a href="#section-8" class="toc-link">8. Governance</a>
    <a href="#section-9" class="toc-link">9. Scaling Strategy</a>
    <a href="#section-10" class="toc-link">10. Tokenomics Allocation</a>
    <a href="#section-11" class="toc-link">11. Security Analysis</a>
    <a href="#section-12" class="toc-link">12. Self-Recovery</a>
    <a href="#section-13" class="toc-link">13. Operational Costs</a>
    <a href="#section-14" class="toc-link">14. API & Developer Appendix</a>
    <a href="#section-15" class="toc-link">15. Launch Plan</a>
    <a href="#section-16" class="toc-link">16. Appendices</a>
  </aside>

  <main>

    <section id="section-1">
      <h2>1. Executive Summary</h2>
      <p class="section-note">This executive summary is intentionally rigorous — it states goals, measurable requirements, and deliverables so auditors and engineers can validate feasibility directly.</p>
      <p>
        Miyagi X Pulse (MIX) combines a mobile-first pulse-producing layer with a hierarchical consensus & periodic checkpoint anchoring to a secure Layer-1. The design objectives are:
      </p>
      <ul>
        <li>Enable mass participation with negligible device energy overhead (target: <=1% battery/day for active users).</li>
        <li>Provide auditable, mathematically bounded finality via hierarchical aggregation and L1 anchoring.</li>
        <li>Support quantum-resistant cryptography and an optional quantum-hybrid entropy layer for improved randomness and Q-score calculations.</li>
        <li>Deliver predictable token emission and long-term economic sustainability aligned to participation instead of capital concentration.</li>
      </ul>
      <p>Deliverables in this whitepaper: formal protocol definitions, sampling and leader-selection proofs, emission derivations, security bounds, capacity planning, API contracts, and appendices with mathematical derivations and CSV-ready emission tables.</p>
    </section>

    <section id="section-2">
      <h2>2. System Overview</h2>
      <h3>2.1 Layers and Roles (formal)</h3>
      <p>The system is composed of three primary layers:</p>
      <ul>
        <li><strong>Pulse Layer (mobile):</strong> Linked Nodes (LN) — smartphones — generate signed pulses each epoch.</li>
        <li><strong>Consensus Layer (hierarchical):</strong> Leader (LD) → Cluster (CL) → Core (CORE) nodes aggregate, sample, and finalize.</li>
        <li><strong>Anchoring Layer:</strong> Periodic checkpoints are committed to a secure Layer-1 chain for external finality.</li>
      </ul>
        

      <h3>2.2 Data types and commitment model</h3>
      <p>Canonical data structures (human-readable form):</p>
      <pre>PULSE P = { uid, epoch, timestamp, region_id, device_hash, metadata, signature }</pre>
      <pre>MICROBLOCK MB = MerkleRoot(P_1, ..., P_n)</pre>
      <pre>PULSEBLOCK PB = { MB_region1, ..., MB_regionK, PB_meta, CORE_signatures }</pre>
      <pre>CHECKPOINT CP = Sign_CORE( Hash(PB) || Hash(ledger_snapshot) || epoch_range )</pre>
      <p>All commitments rely on Merkle roots; reward ledger snapshots are Merkleized to allow compact Merkle proofs against rewards and balances.</p>
    </section>

    <section id="section-3">
      <h2>3. Hybrid Pulse Architecture</h2>
      <h3>3.1 Pulse production, cryptographic commitment, and state</h3>
      <p>The cryptographic commitment for the pulse signature relies on a strong, collision-resistant hash function \(H(\cdot)\) such as SHA3-256 concatenated with a time-bound nonce. The device's **attestation hash** is derived from shielded hardware indicators to prevent cloning and spoofing.
        The overall network state is maintained using a **Merkle Patricia Trie (MPT)**, allowing for efficient verification of state transitions without requiring nodes to download the entire history.</p>
        

      <h3>3.2 Validation pipeline, batching, and Merkle proofs</h3>
      <p>Each LN signs pulse content prior to broadcast. LD performs batched signature verification using batch-ECDSA accumulation (or BLS when used) to reduce per-pulse verification cost. CLs validate a random sample of leaf proofs contained within the LD batch Merkle tree. MBs are formed and appended only when sampling constraints are satisfied.</p>

      <h3>3.3 Checkpoint formation, anchoring, and finality</h3>
      <p>Checkpoints are produced every \(E_a\) epochs (default \(E_a = 12\)). The checkpoint structure includes the finalized global state root and reward ledger root. Crucially, the commitment is secured by **BLS Multi-Signatures** from a quorum of Core Nodes, providing aggregation benefits and resistance against single-node compromise.</p>
      <pre>global_root = MerkleRoot(PB_1 .. PB_Ea)
ledger_root = MPT_Root(reward_ledger_snapshot)
combined = Hash(global_root || ledger_root || epoch_range)
CP = BLS_Quorum_Sign(combined)</pre>
      <p>The Anchoring interval \(E_a\) is a tunable parameter balancing transaction finality latency with the L1 gas cost.</p>
    </section>

    <section id="section-4">
      <h2>4. Consensus Mechanism (PoPP)</h2>
      <h3>4.1 Protocol specification and dynamic parameters</h3>
      <p>PoPP = (EpochDuration, LeaderSelection, SamplingPolicy, FinalityRules). For implementation:</p>
      <ul>
        <li>EpochDuration: 1 hour for pulses; sub-windows for boosts.</li>
        <li>LeaderSelection: **Verifiable Random Function (VRF)**-based, thresholded by stake and historical performance score.</li>
        <li>SamplingPolicy: CL uses randomized sampling; sample size \(m\) computed by formula in Section 5.</li>
        <li>FinalityRules: MB accepted on CL quorum; CP anchored to L1 provides economic finality.</li>
      </ul>

      <h3>4.2 VRF leader selection and cryptographic thresholds</h3>
      <p>For candidate \(v\), compute VRF output \(\pi_v = \text{VRF}(\text{sk}_v, H(\text{epoch} \parallel \text{cluster\_id}))\). Accept leader if \(\pi_v < T\) where \(T\) is calibrated so expected leader count per cluster is \(\approx 1\) per epoch. VRF guarantees unpredictability and non-bias under standard cryptographic assumptions, making LD selection unexploitable before the epoch begins.</p>

      <h3>4.3 Reward windows, boost mechanics, and control loops</h3>
      <p>Boost windows (6 hours) allow optional user-triggered multiplier \(b \ge 1\). To preserve supply invariants, global boost utilization is capped via a **PID control loop** that dynamically reduces the base emission factor when aggregate boost usage exceeds the protocol's safety threshold, ensuring the total emission \(R_t\) remains mathematically bounded.</p>
    </section>

    <section id="section-5">
      <h2>5. Security Model</h2>
      <h3>5.1 Threat taxonomy, cost of collusion, and L1 enforcement</h3>
      <p>Important attacks and required attacker budgets:</p>
      <ul>
        <li>**Sybil farming:** Cost = number of devices * hardware provisioning + account creation friction; mitigations: shielded hardware attestation, rate-limits, reputation score cost.</li>
        <li>**Validator collusion:** Cost is the aggregated staked value $S_c$. The **cost of collusion** $C_{collusion}$ must exceed the potential gain $G$: $C_{collusion} = S_c \cdot P_{MXP} + C_{slashing} > G$. Protocol tolerates up to $1/3$ honest failures; L1 anchoring provides an additional economic barrier.</li>
        <li>**Checkpoint forgery:** Requires simultaneous CL/CORE collusion (secured by BLS multi-sig) & parent L1 reorg within contestation window; probability $P_{false}$ is negligible.</li>
      </ul>

      <h3>5.2 Sampling theorem and detection bounds</h3>
      <p>To detect a faulty fraction \(f\) with confidence \(\alpha\), choose sample size \(m\) such that:</p>
      <pre class="formula">m \geq \frac{\ln(1-\alpha)}{\ln(1-f)}</pre>
      <p>Example: \(f=0.05, \alpha=0.999 \Rightarrow m \approx 134\) samples. We use this \(m\) per CL per MB assembly to ensure detection probabilities stay below 0.1% for expected fault rates, minimizing verification cost while maximizing certainty.</p>
        
    </section>

    <section id="section-6">
      <h2>6. Tokenomics (Model)</h2>
      <h3>6.1 Supply and allocation model</h3>
      <p>Total supply \(S = 1,000,000,000\) MIX. Mining allocation \(M = 0.45 S = 450,000,000\) MIX.</p>

      <h3>6.2 Discrete emission derivation and epoch reward calculation</h3>
      <p>The continuous emission formula $R(t) = R_0 \cdot e^{-k t}$ serves as the theoretical base. For practical, discrete epoch-based issuance, the annual emission for year \(Y\) is $R_Y = R_0 \cdot k \cdot e^{-k(Y-1)}$.
        The initial reward per epoch (\(R_{epoch, 1}\)) is calculated by dividing the first year's emission ($R_1$) by the total number of epochs in the year ($E_{year} = 365 \times 24$, if epoch duration is 1 hour):</p>
      <pre class="formula">R_{epoch, Y} = \frac{M \cdot k \cdot e^{-k(Y-1)}}{E_{year}}</pre>
      <p>This ensures the emission curve is smooth and mathematically bounded, providing predictable rewards for miners.</p>
        
    </section>

    <section id="section-7">
      <h2>7. Economic Incentives</h2>
      <p>Per node reward \(R_{i,e}\) is determined by the total epoch reward divided by active nodes, weighted by \(W_i\), the node's participation weight:</p>
      <pre class="formula">W_i = w_u \cdot U_i + w_h \cdot H_i + w_r \cdot Ref_i + w_d \cdot D_i</pre>
      <p>Weights (\(w_*\)) are governance-configurable. \(U_i\) is Uptime; \(H_i\) is Honesty score; \(Ref_i\) is referral performance; \(D_i\) is region-diversity factor to encourage geographic distribution.</p>
    </section>

    <section id="section-8">
      <h2>8. Governance</h2>
      <p>Governance uses a hybrid model: routine operational decisions are Council-managed; critical economic or protocol changes require on-chain proposals with weighted voting. Emergency control is exercised via a time-locked multisig (5-of-7 CORE) and automatic contestation windows tied to CP anchoring. This dual structure ensures both operational efficiency and decentralized long-term security.</p>
    </section>

    <section id="section-9">
      <h2>9. Scaling Strategy: Sharding and Micro-Block Constraints</h2>
      <h3>9.1 Scaling through Sharding Domains and Capacity Planning</h3>
      <p>The network scales horizontally by defining **sharding domains** based on geographic region and network latency. Each sharding domain is managed by a distinct Cluster Node set (CLs) that independently process Pulse data in parallel. This avoids a global bottleneck in the verification layer.</p>
        <p>The total theoretical capacity \(N_{max}\) is proportional to the number of Core Nodes and the aggregation factor:</p>
      <pre>N_{max} = N_{CORE} \cdot N_{CL/CORE} \cdot N_{LD/CL} \cdot N_{LN/LD}</pre>

      <h3>9.2 Micro-Block (MB) Capacity and Verification</h3>
      <p>To maintain verification speed, Micro-Blocks are capped at $10^3$ pulses (approx. 1MB compressed). CL verification CPU cost scales as \(O(m)\) per MB (where $m$ is the sample size); selecting $m \ll N$ keeps costs feasible while preserving statistical guarantees.</p>
    </section>

    <section id="section-10">
      <h2>10. Tokenomics Allocation (Details)</h2>
      <p>The total fixed supply is 1 Billion MIX. The allocation breakdown provides long-term stability and guarantees resource allocation for critical development and community growth over the lifetime of the network.</p>
        
      <table class="wp-table">
        <thead><tr><th>Category</th><th>%</th><th>Amount (MIX)</th><th>Vesting</th></tr></thead>
        <tbody>
          <tr><td>Community & Mining</td><td>45%</td><td>450,000,000</td><td>Emission schedule (Appendix)</td></tr>
          <tr><td>Ecosystem & Growth</td><td>20%</td><td>200,000,000</td><td>Milestone-driven releases</td></tr>
          <tr><td>Team & Contributors</td><td>15%</td><td>150,000,000</td><td>12-month cliff, 36–48 month linear</td></tr>
          <tr><td>Marketing & Partnerships</td><td>10%</td><td>100,000,000</td><td>Quarterly</td></tr>
          <tr><td>Liquidity & Reserve</td><td>10%</td><td>100,000,000</td><td>Multi-sig</td></tr>
        </tbody>
      </table>
    </section>

    <section id="section-11">
      <h2>11. Security Analysis (rigorous)</h2>
      <p>We provide a cost model: attacker must acquire stake $S_c$ to control $f$ fraction of validators. Cost $\approx S_c \cdot \text{market\_price(MIX)}$. Combined with L1 reorg probability, expected attack cost is astronomical under conservative decentralization assumptions. Appendix A contains formal reductions and game-theoretic payoff tables.</p>
    </section>

    <section id="section-12">
      <h2>12. Self-Recovery & Emergency Governance</h2>
      <p>Recovery primitives: Merkle proof replay against last anchored CP, forensic audit tools to replay disputed epochs, and timelocked governance transitions. Rollback is deterministic and limited to the unanchored epoch range only.</p>
    </section>

    <section id="section-13">
      <h2>13. Operational Cost Model & 5-Year Projection</h2>
      <p>Concrete spreadsheets available in Appendix B. Conservative assumptions: MIX price stability at conservative levels, 50% YoY node growth, emission decay \(k=0.18\). Validator ROI and break-even analysis are included.</p>
    </section>

    <section id="section-14">
      <h2>14. API & Developer Appendix</h2>
      <pre>
POST /v1/register  -> { uid, pubkey, region }
POST /v1/pulse     -> { uid, epoch, sig, payload }
GET  /v1/balance   -> { uid }
GET  /v1/proof/:id -> merkle proof JSON
POST /v1/report    -> anomaly payload
      </pre>
      <p>Pseudocode for CL sampling and MB assembly is in Appendix C and is suitable for direct implementation.</p>
    </section>

    <section id="section-15">
      <h2>15. Launch Plan & Milestones</h2>
      <ol>
        <li>MVP (0–3 months): Core ledger + Android LN app</li>
        <li>Testnet Alpha (3–9 months): PoPP tuning, 1k–10k LNs</li>
        <li>Public Testnet (9–15 months): performance audits, multi-region CLs</li>
        <li>Mainnet (15–24 months): CORE genesis, L1 anchoring active</li>
        <li>Ecosystem Scale (24–60 months): DePIN integration, optional QPU support</li>
      </ol>
    </section>

    <section id="section-16">
      <h2>16. Appendices</h2>
      <h3>Appendix A — Sampling lemma</h3>
      <p>Under uniform random sampling, probability that m samples miss a faulty fraction f equals $(1-f)^m$. Proof in extended PDF.</p>

      <h3>Appendix B — Emission tables</h3>
      <p>Epoch-level and annual emission CSV files are provided with the repo. Example first-year emission: 90,000,000 MIX (see full table).</p>

      <h3>Appendix C — Pseudocode</h3>
      <pre>
function assemble_MB(ld_batch):
  verify_signatures(ld_batch)
  compute_merkle_root(ld_batch.pulses)
  attach_ld_meta()
  broadcast_to_CL()
      </pre>
    </section>

  </main>
</div>
</body>
</html>
